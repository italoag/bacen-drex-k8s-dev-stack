###############################################################################
# Bitnami PostgreSQL chart ‚Äì values.yaml                                      #
#                                                                             #
# Observa√ß√£o üìå                                                               #
# ‚Ä¢ A senha do super-user **N√ÉO** fica aqui;                                  #  
#   o script `deploy-postgresql.sh` injeta via                                #
#     --set auth.postgresPassword=$POSTGRES_PASSWORD                          #
# ‚Ä¢ hostNetwork e dnsPolicy tamb√©m s√£o aplicados pelo script, n√£o pelo chart  #
###############################################################################

# --------------------------------------------------------------------------- #
# 1)  Arquitetura                                                             #
# --------------------------------------------------------------------------- #
architecture: standalone            # um √∫nico Pod (sem r√©plica)

# --------------------------------------------------------------------------- #
# 2)  Autentica√ß√£o                                                            #
# --------------------------------------------------------------------------- #
auth:
  enablePostgresUser: true          # cria o usu√°rio ‚Äúpostgres‚Äù (default true)
  postgresPassword: ""              # ser√° passado pelo script via --set
  database: postgres                # DB inicial (padr√£o ‚Äúpostgres‚Äù)

# --------------------------------------------------------------------------- #
# 3)  Persist√™ncia                                                            #
# --------------------------------------------------------------------------- #
primary:
  persistence:
    enabled: true
    size: 8Gi                        # PVC de 8 GiB
    storageClass: ""                 # ‚Äú‚Äù ‚Üí usa StorageClass padr√£o do cluster

# --------------------------------------------------------------------------- #
# 4)  Service interno                                                         #
# --------------------------------------------------------------------------- #
service:
  type: ClusterIP                    # nenhuma exposi√ß√£o extra; hostNetwork far√° isso
  port: 5432

# --------------------------------------------------------------------------- #
# 5)  Recursos                                                                #
# --------------------------------------------------------------------------- #
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi

# --------------------------------------------------------------------------- #
# 6)  Probes (mantidos padr√£o)                                                #
# --------------------------------------------------------------------------- #
livenessProbe:
  enabled: true
readinessProbe:
  enabled: true
